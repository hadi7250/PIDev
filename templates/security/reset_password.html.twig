<!doctype html>
<html lang="en" data-bs-theme="blue-theme">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PIDEV Education - Reset Password</title>
  
  <!--favicon-->
  <link rel="icon" href="{{ asset('Back_Office/assets/images/favicon-32x32.png') }}" type="image/png">
  <!-- loader-->
  <link href="{{ asset('Back_Office/assets/css/pace.min.css') }}" rel="stylesheet">
  <script src="{{ asset('Back_Office/assets/js/pace.min.js') }}"></script>

  <!--plugins-->
  <link href="{{ asset('Back_Office/assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css') }}" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="{{ asset('Back_Office/assets/plugins/metismenu/metisMenu.min.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ asset('Back_Office/assets/plugins/metismenu/mm-vertical.css') }}">
  <!--bootstrap css-->
  <link href="{{ asset('Back_Office/assets/css/bootstrap.min.css') }}" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
  <!--main css-->
  <link href="{{ asset('Back_Office/assets/css/bootstrap-extended.css') }}" rel="stylesheet">
  <link href="{{ asset('Back_Office/sass/main.css') }}" rel="stylesheet">
  <link href="{{ asset('Back_Office/sass/dark-theme.css') }}" rel="stylesheet">
  <link href="{{ asset('Back_Office/sass/blue-theme.css') }}" rel="stylesheet">
  <link href="{{ asset('Back_Office/sass/responsive.css') }}" rel="stylesheet">

  <style>
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-6px); }
      50% { transform: translateX(6px); }
      75% { transform: translateX(-6px); }
      100% { transform: translateX(0); }
    }
  
    .shake {
      animation: shake 0.3s;
    }
  
    .is-invalid {
      border-color: #dc3545 !important;
      box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);
    }
  
    .invalid-feedback {
      display: block !important;
    }
    
    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      font-family: 'Noto Sans', sans-serif;
    }
    
    .btn-grd-danger {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      border: none;
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .btn-grd-danger:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(240, 147, 251, 0.3);
      color: white;
    }
    
    .btn-light {
      background: white;
      border: 2px solid #e0e0e0;
      color: #333;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .btn-light:hover {
      border-color: #f093fb;
      background: #f8f9fa;
      transform: translateY(-1px);
    }
    
    .bg-grd-danger {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }
    
    .card {
      border: none;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    }
    
    .form-control {
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 12px 16px;
      transition: all 0.3s ease;
    }
    
    .form-control:focus {
      border-color: #f093fb;
      box-shadow: 0 0 0 0.25rem rgba(240, 147, 251, 0.25);
    }
    
    .form-label {
      font-weight: 600;
      color: #333;
      margin-bottom: 8px;
    }
  </style>
</head>

<body>

  <!--authentication-->

  <div class="mx-3 mx-lg-0">

  <div class="card my-5 col-xl-9 col-xxl-8 mx-auto rounded-4 overflow-hidden p-4">
    <div class="row g-4 align-items-center">
      <div class="col-lg-6 d-flex">
        <div class="card-body">
          <img src="{{ asset('Back_Office/assets/images/logo1.png') }}" class="mb-4" width="145" alt="">
          <h4 class="fw-bold">Generate New Password</h4>
          <p class="mb-0">We received your reset password request. Please enter your new password!</p>
          
          {% if error %}
            <div class="alert alert-danger" role="alert">
              {{ error }}
            </div>
          {% endif %}
          
          {% if success %}
            <div class="alert alert-success" role="alert">
              {{ success }}
            </div>
          {% endif %}

          <div class="form-body mt-4">
            <form class="row g-3" method="post">
              <div class="col-12">
                <label class="form-label" for="password">New Password</label>
                <input type="password" name="password" class="form-control" id="password" placeholder="Enter new password" required>
              </div>
              <div class="col-12">
                <label class="form-label" for="confirm_password">Confirm Password</label>
                <input type="password" name="confirm_password" class="form-control" id="confirm_password" placeholder="Confirm password" required>
              </div>
              <div class="col-12">
                <div class="d-grid gap-2">
                  <button type="submit" class="btn btn-grd-danger">Change Password</button>
                   <a href="{{ path('app_login') }}" class="btn btn-light">Back to Login</a>
                </div>
              </div>
            </form>
          </div>

      </div>
      </div>
      <div class="col-lg-6 d-lg-flex d-none">
        <div class="p-3 rounded-4 w-100 d-flex align-items-center justify-content-center bg-grd-danger">
          <img src="{{ asset('Back_Office/assets/images/auth/reset-password1.png') }}" class="img-fluid" alt="">
        </div>
      </div>

    </div><!--end row-->
  </div>

</div>




  <!--authentication-->


  <!--plugins-->
  <script src="{{ asset('Back_Office/assets/js/jquery.min.js') }}"></script>

  <script>
    $(document).ready(function () {
      // Form validation
      $('form').on('submit', function(e) {
        var password = $('#password').val().trim();
        var confirmPassword = $('#confirm_password').val().trim();
        
        // Clear previous errors
        $('.is-invalid').removeClass('is-invalid');
        $('.invalid-feedback').remove();
        
        // Validate passwords
        if (!password) {
          $('#password').addClass('is-invalid shake');
          $('#password').after('<div class="invalid-feedback">Password is required</div>');
          e.preventDefault();
          return false;
        }
        
        if (password.length < 6) {
          $('#password').addClass('is-invalid shake');
          $('#password').after('<div class="invalid-feedback">Password must be at least 6 characters</div>');
          e.preventDefault();
          return false;
        }
        
        if (!confirmPassword) {
          $('#confirm_password').addClass('is-invalid shake');
          $('#confirm_password').after('<div class="invalid-feedback">Please confirm your password</div>');
          e.preventDefault();
          return false;
        }
        
        if (password !== confirmPassword) {
          $('#confirm_password').addClass('is-invalid shake');
          $('#confirm_password').after('<div class="invalid-feedback">Passwords do not match</div>');
          e.preventDefault();
          return false;
        }
      });
      
      // Remove error on input
      $('#password, #confirm_password').on('input', function() {
        $(this).removeClass('is-invalid shake');
        $(this).next('.invalid-feedback').remove();
      });
    });
  </script>

</body>
</html>
